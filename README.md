# SQL Exec

多数据库批量执行SQL工具。

## 功能特点

### 数据库支持
- 支持多种数据库类型（MySQL, PostgreSQL, SQLite等）
- 支持多连接同时管理
- 支持连接分组管理
- 支持连接测试和状态监控

### 查询功能
- 专业的SQL编辑器
  - 语法高亮支持（关键字、函数、数字、字符串、注释）
  - 支持单行和多行注释
  - 使用等宽字体优化显示效果
- 多连接查询执行
  - 支持在多个选中的连接上同时执行查询
  - 实时显示查询执行进度
  - 合并多连接查询结果
- 查询结果显示
  - 表格形式展示结果
  - 自动调整列宽
  - 支持大数据集展示

### 用户界面
- 现代化界面设计
- 支持浅色/深色主题切换
- 支持中文/英文界面切换
- 系统托盘支持
  - 可选的关闭行为（退出/最小化到托盘/每次询问）
  - 托盘菜单快速操作
- 分组管理界面
  - 支持数据库连接分组
  - 支持组描述管理
  - 灵活的连接分配

### 配置管理
- 版本化的配置文件
- 自动配置迁移
- 支持多语言设置
- 界面布局记忆
- 支持通知设置

## 安装

```bash
# 安装依赖
pip install -r requirements.txt

# 运行程序
python -m sqlexec
```

## 配置说明

配置文件位于用户目录下的 `.sqlexec/config.toml`，支持以下配置项：

### 常规设置
- `theme`: 主题设置 ("light"/"dark")
- `language`: 界面语言 ("zh_CN"/"en_US")
- `show_system_tray`: 是否显示系统托盘图标
- `enable_notifications`: 是否启用通知
- `close_action`: 关闭窗口行为 ("ask"/"minimize"/"exit")

### 数据库连接
```toml
[[connections]]
name = "连接名称"
alias = "连接别名"
type = "数据库类型"
connection_string = "连接字符串"
```

### 分组设置
```toml
[groups.组名]
description = "组描述"
connections = ["连接别名1", "连接别名2"]
```

## 开发说明

### 代码结构
```
sqlexec/
├── config/         # 配置相关
├── core/          # 核心功能
├── resources/     # 资源文件
└── ui/            # 界面相关
```

### 主要更新
1. 新增枚举类型支持
   - Theme: 主题设置
   - Language: 语言设置
   - CloseAction: 关闭行为

2. 改进的SQL编辑器
   - 完整的SQL语法高亮
   - 支持多种格式（关键字、函数、数字、字符串）
   - 支持单行和多行注释

3. 增强的查询功能
   - 支持多连接并行查询
   - 实时进度显示
   - 结果合并展示

4. 优化的用户体验
   - 更清晰的关闭确认对话框
   - 状态栏信息反馈
   - 进度条显示

## 许可证

MIT License 